#!/usr/bin/env python3
"""
ã‚·ãƒ³ãƒ—ãƒ«ãªStreamlitãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
Threadsè‡ªå‹•æŠ•ç¨¿ã‚·ã‚¹ãƒ†ãƒ ç”¨
"""

import streamlit as st
import pandas as pd
import os
from datetime import datetime

# ãƒšãƒ¼ã‚¸è¨­å®š
st.set_page_config(
    page_title="ThreadsæŠ•ç¨¿ç®¡ç†",
    page_icon="ğŸ“±",
    layout="wide"
)

def main():
    st.title("ğŸ“± ThreadsæŠ•ç¨¿ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰")
    st.markdown("---")
    
    # ã‚µã‚¤ãƒ‰ãƒãƒ¼ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼é¸æŠ
    menu = st.sidebar.selectbox(
        "ãƒ¡ãƒ‹ãƒ¥ãƒ¼",
        ["ğŸ“Š ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰", "ğŸ“ æ–°è¦æŠ•ç¨¿", "ğŸ“… ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†", "âš™ï¸ è¨­å®š"]
    )
    
    if menu == "ğŸ“Š ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰":
        show_dashboard()
    elif menu == "ğŸ“ æ–°è¦æŠ•ç¨¿":
        show_new_post()
    elif menu == "ğŸ“… ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†":
        show_schedule()
    elif menu == "âš™ï¸ è¨­å®š":
        show_settings()

def show_dashboard():
    """ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤º"""
    st.header("ğŸ“Š æŠ•ç¨¿çµ±è¨ˆ")
    
    # çµ±è¨ˆæƒ…å ±ã‚’3åˆ—ã§è¡¨ç¤º
    col1, col2, col3 = st.columns(3)
    
    with col1:
        st.metric("ä»Šæ—¥ã®æŠ•ç¨¿æ•°", "5", "+2")
    
    with col2:
        st.metric("ä»Šé€±ã®æŠ•ç¨¿æ•°", "35", "+10")
    
    with col3:
        st.metric("äºˆç´„æŠ•ç¨¿æ•°", "12", "-3")
    
    # æŠ•ç¨¿å±¥æ­´
    st.subheader("ğŸ“‹ æœ€è¿‘ã®æŠ•ç¨¿")
    
    # ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿
    sample_data = pd.DataFrame({
        "æŠ•ç¨¿æ—¥æ™‚": [
            datetime.now().strftime("%Y-%m-%d %H:%M"),
            "2025-01-23 14:30",
            "2025-01-23 12:00",
            "2025-01-23 09:00",
            "2025-01-22 18:00"
        ],
        "å†…å®¹": [
            "ä»Šæ—¥ã‚‚ç´ æ™´ã‚‰ã—ã„ä¸€æ—¥ã‚’ï¼",
            "æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹å§‹ã—ã¾ã—ãŸ",
            "ãƒ©ãƒ³ãƒã‚¿ã‚¤ãƒ ã®é¢¨æ™¯",
            "ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ï¼",
            "ä»Šæ—¥ã‚‚ãŠç–²ã‚Œæ§˜ã§ã—ãŸ"
        ],
        "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹": ["æŠ•ç¨¿æ¸ˆã¿", "æŠ•ç¨¿æ¸ˆã¿", "æŠ•ç¨¿æ¸ˆã¿", "æŠ•ç¨¿æ¸ˆã¿", "æŠ•ç¨¿æ¸ˆã¿"],
        "ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ": ["ğŸ‘ 23", "ğŸ‘ 45", "ğŸ‘ 67", "ğŸ‘ 89", "ğŸ‘ 101"]
    })
    
    st.dataframe(sample_data, use_container_width=True)

def show_new_post():
    """æ–°è¦æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ """
    st.header("ğŸ“ æ–°è¦æŠ•ç¨¿ä½œæˆ")
    
    # æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ 
    with st.form("new_post_form"):
        post_content = st.text_area(
            "æŠ•ç¨¿å†…å®¹",
            placeholder="æŠ•ç¨¿ã—ãŸã„å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„...",
            height=150
        )
        
        col1, col2 = st.columns(2)
        
        with col1:
            post_date = st.date_input("æŠ•ç¨¿æ—¥")
        
        with col2:
            post_time = st.time_input("æŠ•ç¨¿æ™‚åˆ»")
        
        # æŠ•ç¨¿ã‚¿ã‚¤ãƒ—
        post_type = st.radio(
            "æŠ•ç¨¿ã‚¿ã‚¤ãƒ—",
            ["å³åº§ã«æŠ•ç¨¿", "äºˆç´„æŠ•ç¨¿"]
        )
        
        # é€ä¿¡ãƒœã‚¿ãƒ³
        submitted = st.form_submit_button("æŠ•ç¨¿ã™ã‚‹", type="primary")
        
        if submitted:
            if post_content:
                st.success("âœ… æŠ•ç¨¿ãŒç™»éŒ²ã•ã‚Œã¾ã—ãŸï¼")
                st.balloons()
            else:
                st.error("æŠ•ç¨¿å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")

def show_schedule():
    """ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†"""
    st.header("ğŸ“… ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†")
    
    # ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ“ãƒ¥ãƒ¼é¢¨ã®è¡¨ç¤º
    st.subheader("ä»Šé€±ã®æŠ•ç¨¿äºˆå®š")
    
    schedule_data = pd.DataFrame({
        "æ—¥ä»˜": ["2025-01-24", "2025-01-24", "2025-01-25", "2025-01-26", "2025-01-27"],
        "æ™‚åˆ»": ["09:00", "18:00", "12:00", "15:00", "10:00"],
        "å†…å®¹": [
            "é‡‘æ›œæ—¥ã®æœã®æŒ¨æ‹¶",
            "é€±æœ«ã®äºˆå®šã«ã¤ã„ã¦",
            "åœŸæ›œæ—¥ã®ãƒ©ãƒ³ãƒæŠ•ç¨¿",
            "æ—¥æ›œæ—¥ã®åˆå¾ŒæŠ•ç¨¿",
            "æ–°ã—ã„é€±ã®å§‹ã¾ã‚Š"
        ],
        "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹": ["äºˆç´„æ¸ˆã¿", "äºˆç´„æ¸ˆã¿", "äºˆç´„æ¸ˆã¿", "äºˆç´„æ¸ˆã¿", "äºˆç´„æ¸ˆã¿"]
    })
    
    st.dataframe(schedule_data, use_container_width=True)
    
    # ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³
    col1, col2, col3 = st.columns(3)
    
    with col1:
        if st.button("ğŸ“ æ–°è¦äºˆç´„"):
            st.info("æ–°è¦æŠ•ç¨¿ç”»é¢ã‹ã‚‰äºˆç´„æŠ•ç¨¿ã‚’ä½œæˆã—ã¦ãã ã•ã„")
    
    with col2:
        if st.button("âœï¸ ç·¨é›†"):
            st.info("ç·¨é›†ã™ã‚‹æŠ•ç¨¿ã‚’é¸æŠã—ã¦ãã ã•ã„")
    
    with col3:
        if st.button("ğŸ—‘ï¸ å‰Šé™¤"):
            st.warning("å‰Šé™¤ã™ã‚‹æŠ•ç¨¿ã‚’é¸æŠã—ã¦ãã ã•ã„")

def show_settings():
    """è¨­å®šç”»é¢"""
    st.header("âš™ï¸ è¨­å®š")
    
    # åŸºæœ¬è¨­å®š
    st.subheader("åŸºæœ¬è¨­å®š")
    
    col1, col2 = st.columns(2)
    
    with col1:
        st.text_input("ãƒ¦ãƒ¼ã‚¶ãƒ¼å", value="@your_username")
        st.number_input("1æ—¥ã®æœ€å¤§æŠ•ç¨¿æ•°", min_value=1, max_value=50, value=10)
    
    with col2:
        st.selectbox("ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæŠ•ç¨¿æ™‚é–“", ["09:00", "12:00", "15:00", "18:00", "21:00"])
        st.checkbox("è‡ªå‹•æŠ•ç¨¿ã‚’æœ‰åŠ¹ã«ã™ã‚‹", value=True)
    
    # è©³ç´°è¨­å®š
    st.subheader("è©³ç´°è¨­å®š")
    
    st.slider("æŠ•ç¨¿é–“éš”ï¼ˆåˆ†ï¼‰", min_value=30, max_value=360, value=120)
    st.multiselect(
        "æŠ•ç¨¿ã‚«ãƒ†ã‚´ãƒªãƒ¼",
        ["ãƒ“ã‚¸ãƒã‚¹", "ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«", "ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼", "ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ¡ãƒ³ãƒˆ"],
        default=["ãƒ“ã‚¸ãƒã‚¹", "ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼"]
    )
    
    # ä¿å­˜ãƒœã‚¿ãƒ³
    if st.button("è¨­å®šã‚’ä¿å­˜", type="primary"):
        st.success("âœ… è¨­å®šãŒä¿å­˜ã•ã‚Œã¾ã—ãŸï¼")

if __name__ == "__main__":
    main()